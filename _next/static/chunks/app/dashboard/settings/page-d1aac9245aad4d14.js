(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4631],{9381:(e,s,t)=>{"use strict";t.d(s,{H:()=>d,p:()=>l});var a=t(88693),r=t(46786);let l={USD:1,TND:3.1},d=(0,a.vt)((0,r.Zr)((e,s)=>({currency:"USD",setCurrency:s=>e({currency:s}),formatPrice:e=>{let{currency:t}=s(),a=e*l[t];return"TND"===t?"".concat(a.toFixed(2)," TND"):"$".concat(a.toFixed(2))}}),{name:"topup-hub-currency",partialize:e=>({currency:e.currency})}))},17759:(e,s,t)=>{"use strict";t.d(s,{C5:()=>g,MJ:()=>p,Rr:()=>j,eI:()=>f,lR:()=>h,lV:()=>o,zB:()=>m});var a=t(95155),r=t(12115),l=t(66634),d=t(62177),n=t(59434),i=t(85057);let o=d.Op,c=r.createContext({}),m=e=>{let{...s}=e;return(0,a.jsx)(c.Provider,{value:{name:s.name},children:(0,a.jsx)(d.xI,{...s})})},u=()=>{let e=r.useContext(c),s=r.useContext(x),{getFieldState:t,formState:a}=(0,d.xW)(),l=t(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=s;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...l}},x=r.createContext({}),f=r.forwardRef((e,s)=>{let{className:t,...l}=e,d=r.useId();return(0,a.jsx)(x.Provider,{value:{id:d},children:(0,a.jsx)("div",{ref:s,className:(0,n.cn)("space-y-2",t),...l})})});f.displayName="FormItem";let h=r.forwardRef((e,s)=>{let{className:t,...r}=e,{error:l,formItemId:d}=u();return(0,a.jsx)(i.J,{ref:s,className:(0,n.cn)(l&&"text-destructive",t),htmlFor:d,...r})});h.displayName="FormLabel";let p=r.forwardRef((e,s)=>{let{...t}=e,{error:r,formItemId:d,formDescriptionId:n,formMessageId:i}=u();return(0,a.jsx)(l.DX,{ref:s,id:d,"aria-describedby":r?"".concat(n," ").concat(i):"".concat(n),"aria-invalid":!!r,...t})});p.displayName="FormControl";let j=r.forwardRef((e,s)=>{let{className:t,...r}=e,{formDescriptionId:l}=u();return(0,a.jsx)("p",{ref:s,id:l,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});j.displayName="FormDescription";let g=r.forwardRef((e,s)=>{var t;let{className:r,children:l,...d}=e,{error:i,formMessageId:o}=u(),c=i?String(null!=(t=null==i?void 0:i.message)?t:""):l;return c?(0,a.jsx)("p",{ref:s,id:o,className:(0,n.cn)("text-sm font-medium text-destructive",r),...d,children:c}):null});g.displayName="FormMessage"},24944:(e,s,t)=>{"use strict";t.d(s,{k:()=>n});var a=t(95155),r=t(12115),l=t(55863),d=t(59434);let n=r.forwardRef((e,s)=>{let{className:t,value:r,...n}=e;return(0,a.jsx)(l.bL,{ref:s,className:(0,d.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:(0,a.jsx)(l.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});n.displayName=l.bL.displayName},30285:(e,s,t)=>{"use strict";t.d(s,{$:()=>o,r:()=>i});var a=t(95155),r=t(12115),l=t(66634),d=t(74466),n=t(59434);let i=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 ease-in-out hover:-translate-y-0.5 active:translate-y-0 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:t,variant:r,size:d,asChild:o=!1,...c}=e,m=o?l.DX:"button";return(0,a.jsx)(m,{className:(0,n.cn)(i({variant:r,size:d,className:t})),ref:s,...c})});o.displayName="Button"},30356:(e,s,t)=>{"use strict";t.d(s,{C:()=>o,z:()=>i});var a=t(95155),r=t(12115),l=t(54059),d=t(70154),n=t(59434);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.bL,{className:(0,n.cn)("grid gap-2",t),...r,ref:s})});i.displayName=l.bL.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.q7,{ref:s,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,a.jsx)(l.C1,{className:"flex items-center justify-center",children:(0,a.jsx)(d.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});o.displayName=l.q7.displayName},42871:(e,s,t)=>{"use strict";t.d(s,{D:()=>l});var a=t(88693),r=t(46786);let l=(0,a.vt)((0,r.Zr)(e=>({theme:"violet-fusion",setTheme:s=>e({theme:s})}),{name:"topup-hub-theme"}))},54165:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>x,Es:()=>h,HM:()=>m,L3:()=>p,c7:()=>f,lG:()=>i,rr:()=>j,zM:()=>o});var a=t(95155),r=t(12115),l=t(45821),d=t(25318),n=t(59434);let i=l.bL,o=l.l9,c=l.ZL,m=l.bm,u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});u.displayName=l.hJ.displayName;let x=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(l.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[r,(0,a.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.UC.displayName;let f=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};f.displayName="DialogHeader";let h=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};h.displayName="DialogFooter";let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});p.displayName=l.hE.displayName;let j=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});j.displayName=l.VY.displayName},55149:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>V});var a=t(95155),r=t(62177),l=t(90221),d=t(55594),n=t(22100),i=t(87481),o=t(66695),c=t(30285),m=t(17759),u=t(62523),x=t(85057),f=t(66766),h=t(91394),p=t(4154),j=t(2480),g=t(24944),b=t(9381),N=t(59434),v=t(85268),w=t(50594),y=t(82733),S=t(68027),R=t(36936),k=t(31573),C=t(98917),P=t(8376),T=t(24371),A=t(6874),B=t.n(A),F=t(54165),z=t(85127),D=t(12115),I=t(68856),L=t(55365),J=t(30356),Z=t(50057),E=t(83013),M=t(42871);let _=d.z.object({name:d.z.string().min(2,"Name must be at least 2 characters."),email:d.z.string().email("Invalid email address.")}),H=d.z.object({currentPassword:d.z.string().min(1,"Current password is required."),newPassword:d.z.string().min(6,"New password must be at least 6 characters."),confirmPassword:d.z.string()}).refine(e=>e.newPassword===e.confirmPassword,{message:"New passwords don't match.",path:["confirmPassword"]}),U=[{id:"default",label:"Default",className:""},{id:"rgb",label:"RGB Flow",className:"font-bold bg-gradient-to-r from-fuchsia-500 via-red-500 to-amber-400 bg-clip-text text-transparent bg-[length:200%_auto] animate-bg-pan"},{id:"gold",label:"Golden",className:"font-bold text-yellow-500"},{id:"frost",label:"Frost",className:"font-bold text-cyan-400"}];function V(){var e,s,t,d,A;let{user:V,updateUser:$,changePassword:W,updateAvatar:X,isPremium:q,updateWalletBalance:G,updateTotalSpent:O}=(0,n.A)(),{users:Y,cancelSubscription:K,subscribeToPremium:Q,updateNameStyle:ee}=(0,Z.C)(),{toast:es}=(0,i.dj)(),{t:et}=(0,p.B)(),{formatPrice:ea}=(0,b.H)(),[er,el]=(0,D.useState)(!1),{theme:ed,setTheme:en}=(0,M.D)();(0,D.useEffect)(()=>{el(!0)},[]);let ei=(0,D.useMemo)(()=>{if(!V)return null;let e=[...Y].filter(e=>!e.isAdmin).sort((e,s)=>s.totalSpent-e.totalSpent).findIndex(e=>e.id===V.id);return -1!==e?e+1:null},[Y,V]),eo=V?V.totalSpent*j.P9:0,ec=V?(0,j.jH)(V.totalSpent):null,em=V?(0,j.q4)(V.totalSpent):null,eu=null!=(d=null==ec?void 0:ec.threshold)?d:0,ex=null!=(A=null==em?void 0:em.threshold)?A:0,ef=eo-eu,eh=ex-eu,ep=eh>0?ef/eh*100:100*!em,ej=em?em.threshold-eo:0,eg=(null==(e=U.find(e=>e.id===(null==V?void 0:V.nameStyle)))?void 0:e.className)||"",eb=10/b.p.TND,eN=V&&V.walletBalance>=eb,ev=(0,r.mN)({resolver:(0,l.u)(_),defaultValues:{name:(null==V?void 0:V.name)||"",email:(null==V?void 0:V.email)||""}}),ew=(0,r.mN)({resolver:(0,l.u)(H),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),ey="classic-light"===ed;return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:et("dashboardSettings.title")}),(0,a.jsx)("p",{className:"text-muted-foreground",children:et("dashboardSettings.subtitle")})]}),q&&(0,a.jsxs)(L.Fc,{className:"border-yellow-500 bg-yellow-500/5 text-yellow-700 dark:text-yellow-400",children:[(0,a.jsx)(v.A,{className:"h-4 w-4 !text-yellow-500"}),(0,a.jsx)(L.XL,{className:"font-bold",children:"Premium Member"}),(0,a.jsx)(L.TN,{children:"You have a 1.5x XP boost and other perks active. Thank you for your support!"})]}),ec&&(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsxs)(F.lG,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(o.ZB,{children:"Your Rank & Progress"}),(0,a.jsx)(F.zM,{asChild:!0,children:(0,a.jsx)(c.$,{variant:"ghost",size:"icon",children:(0,a.jsx)(w.A,{className:"h-5 w-5 text-muted-foreground hover:text-primary"})})})]}),(0,a.jsxs)(F.Cf,{children:[(0,a.jsxs)(F.c7,{children:[(0,a.jsx)(F.L3,{children:"All Available Ranks"}),(0,a.jsx)(F.rr,{children:et("dashboardSettings.allRanksDescription")})]}),(0,a.jsxs)(z.XI,{children:[(0,a.jsx)(z.A0,{children:(0,a.jsxs)(z.Hj,{children:[(0,a.jsx)(z.nd,{children:"Rank"}),(0,a.jsx)(z.nd,{className:"text-right",children:"XP Required"})]})}),(0,a.jsx)(z.BF,{children:j.CS.map(e=>(0,a.jsxs)(z.Hj,{children:[(0,a.jsx)(z.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2 font-semibold text-base",children:[(0,a.jsx)(e.icon,{className:(0,N.cn)("h-5 w-5",e.iconColor||e.color)}),(0,a.jsx)("span",{className:e.color,children:e.name})]})}),(0,a.jsx)(z.nA,{className:"text-right font-mono",children:er?(0,j.SJ)(e.threshold):(0,a.jsx)(I.E,{className:"h-5 w-20 ml-auto"})})]},e.name))})]}),(0,a.jsxs)(L.Fc,{variant:"default",className:"mt-4",children:[(0,a.jsx)(w.A,{className:"h-4 w-4"}),(0,a.jsx)(L.TN,{children:et("dashboardSettings.rankResetNote")})]})]})]}),(0,a.jsx)(o.BT,{children:"Track your journey through the ranks. Higher ranks may unlock future benefits!"})]}),(0,a.jsxs)(o.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 p-4 bg-secondary rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(ec.icon,{className:(0,N.cn)("h-12 w-12",ec.iconColor||ec.color)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:(0,N.cn)("text-2xl font-bold",ec.color),children:ec.name}),er?(0,a.jsxs)("p",{className:"text-muted-foreground",children:["Total XP: ",(0,j.SJ)(eo)]}):(0,a.jsx)(I.E,{className:"h-5 w-32 mt-1"})]})]}),er&&ei?(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm font-semibold text-muted-foreground flex items-center gap-1.5 justify-end",children:[(0,a.jsx)(v.A,{className:"h-4 w-4 text-amber-400"}),(0,a.jsx)("span",{children:et("dashboardSettings.globalRank")})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:["#",ei]})]}):er?null:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(I.E,{className:"h-5 w-20 ml-auto"}),(0,a.jsx)(I.E,{className:"h-8 w-12 ml-auto"})]})]}),em?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:["Progress to ",em.name]}),er?(0,a.jsxs)("span",{children:[(0,j.SJ)(eo)," / ",(0,j.SJ)(em.threshold)]}):(0,a.jsx)(I.E,{className:"h-5 w-32"})]}),(0,a.jsx)(g.k,{value:ep,className:"w-full"}),(0,a.jsx)("div",{className:"text-sm text-center text-muted-foreground pt-1 h-5",children:er?(0,a.jsxs)("p",{children:["Earn ",(0,a.jsx)("span",{className:"font-bold text-primary",children:(0,j.SJ)(ej)})," more to rank up."]}):(0,a.jsx)(I.E,{className:"h-5 w-48 mx-auto"})})]}):(0,a.jsx)("div",{className:"text-center font-semibold text-primary p-2 bg-secondary rounded-md",children:et("dashboardSettings.maxRankText")})]})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"h-5 w-5"})," Appearance"]}),(0,a.jsx)(o.BT,{children:"Choose your preferred site theme."})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(c.$,{variant:ey?"outline":"default",onClick:()=>en("violet-fusion"),className:"h-20",children:[(0,a.jsx)(S.A,{className:"mr-2 h-5 w-5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold",children:"Dark Mode"}),(0,a.jsx)("p",{className:"text-xs font-normal",children:"Recommended"})]})]}),(0,a.jsxs)(c.$,{variant:ey?"default":"outline",onClick:()=>en("classic-light"),className:"h-20",children:[(0,a.jsx)(R.A,{className:"mr-2 h-5 w-5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold",children:"Light Mode"}),(0,a.jsx)("p",{className:"text-xs font-normal",children:"Classic View"})]})]})]})})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"h-5 w-5"})," Profile Customization"]}),(0,a.jsx)(o.BT,{children:q?"As a premium member, you can customize your profile's appearance.":"Unlock profile customization perks by upgrading to Premium."})]}),(0,a.jsx)(o.Wu,{className:"space-y-6",children:(0,a.jsxs)("div",{className:"relative",children:[!q&&(0,a.jsx)("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg -m-6 p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(k.A,{className:"h-10 w-10 text-muted-foreground mb-3 mx-auto"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"This is a Premium Feature"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Unlock animated names and more."}),(0,a.jsx)(c.$,{asChild:!0,children:(0,a.jsxs)(B(),{href:"/premium",children:[(0,a.jsx)(C.A,{className:"mr-2 h-4 w-4"}),"Unlock with Premium"]})})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-base font-semibold",children:"Username Style"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose how your name appears across the site."}),(0,a.jsx)(J.z,{defaultValue:(null==V?void 0:V.nameStyle)||"default",onValueChange:e=>{V&&(ee(V.id,e),es({title:"Username style updated!"}))},className:"grid sm:grid-cols-2 gap-4",disabled:!q,children:U.map(e=>(0,a.jsxs)(x.J,{htmlFor:"style-".concat(e.id),className:(0,N.cn)("flex items-center justify-between rounded-lg border p-4",q?"cursor-pointer has-[:checked]:border-primary has-[:checked]:bg-secondary":"cursor-not-allowed"),children:[(0,a.jsx)("span",{className:(0,N.cn)("font-semibold",e.className),children:e.label}),(0,a.jsx)(J.C,{value:e.id,id:"style-".concat(e.id)})]},e.id))})]})]})})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsx)(o.ZB,{children:et("dashboardSettings.profilePicture")}),(0,a.jsx)(o.BT,{children:et("dashboardSettings.profilePictureDesc")})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)(h.eu,{className:"h-20 w-20",children:[(0,a.jsx)(h.BK,{src:null==V?void 0:V.avatar,asChild:!0,children:(0,a.jsx)(f.default,{src:(null==V?void 0:V.avatar)||"",alt:(null==V?void 0:V.name)||"",width:80,height:80,unoptimized:q&&(null==V||null==(s=V.avatar)?void 0:s.endsWith(".gif"))})}),(0,a.jsx)(h.q5,{children:null==V||null==(t=V.name)?void 0:t.charAt(0)})]}),(0,a.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(0,a.jsx)(x.J,{htmlFor:"picture",children:et("dashboardSettings.uploadNewPicture")}),(0,a.jsx)(u.p,{id:"picture",type:"file",accept:q?"image/gif, image/png, image/jpeg":"image/png, image/jpeg",onChange:e=>{var s;let t=null==(s=e.target.files)?void 0:s[0];if(t&&V){if(!q&&"image/gif"===t.type){es({variant:"destructive",title:et("premiumPage.featureLockedTitle"),description:et("premiumPage.gifAvatarLockedDesc")}),e.target.value="";return}let s=new FileReader;s.onloadend=()=>{"string"==typeof s.result&&(X(V.id,s.result),es({title:et("dashboardSettings.avatarUpdatedToast")}))},s.readAsDataURL(t)}},className:"file:text-primary file:font-semibold"}),q?(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Premium perk: Animated GIFs are supported!"}):(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,a.jsxs)(B(),{href:"/premium",className:"underline text-primary font-semibold hover:text-primary/80 flex items-center gap-1 w-fit",children:[(0,a.jsx)(k.A,{className:"h-3 w-3"}),"Unlock animated GIF avatars with Premium."]})})]})]})})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsx)(o.ZB,{children:et("dashboardSettings.manageSubTitle")}),(0,a.jsx)(o.BT,{children:et("dashboardSettings.manageSubDesc")})]}),(0,a.jsx)(o.Wu,{children:(null==V?void 0:V.premium)?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(x.J,{children:[et("dashboardSettings.statusLabel"),":"]}),(0,a.jsxs)("p",{className:(0,N.cn)("font-semibold flex items-center gap-1.5",q?"text-green-500":"text-muted-foreground"),children:[q?(0,a.jsx)(P.A,{className:"h-4 w-4"}):(0,a.jsx)(T.A,{className:"h-4 w-4"}),q?et("dashboardSettings.activeStatus"):"cancelled"===V.premium.status?et("dashboardSettings.cancelledStatus"):et("dashboardSettings.expiredStatus")]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{children:"active"===V.premium.status?et("dashboardSettings.renewsOnLabel"):et("dashboardSettings.expiresOnLabel")}),(0,a.jsx)("p",{className:"font-semibold",children:(0,E.GP)(new Date(V.premium.expiresAt),"PPP")})]}),"active"===V.premium.status&&(0,a.jsx)(c.$,{variant:"destructive",onClick:()=>{V&&(K(V.id),es({title:et("dashboardSettings.cancelToastTitle"),description:et("dashboardSettings.cancelToastDesc")}))},children:et("dashboardSettings.cancelSubButton")}),!q&&(0,a.jsxs)("div",{className:"pt-2 border-t mt-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:et("dashboardSettings.resubscribePrompt")}),(0,a.jsx)(c.$,{onClick:()=>{V&&eN&&(G(V.id,-eb),O(V.id,eb),Q(V.id),es({title:et("dashboardSettings.resubscribeToastTitle"),description:et("dashboardSettings.resubscribeToastDesc")}))},disabled:!eN,children:et("dashboardSettings.resubscribeButton",{price:ea(eb)})}),!eN&&(0,a.jsx)("p",{className:"text-xs text-destructive mt-1",children:et("dashboardSettings.insufficientFunds")})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:et("dashboardSettings.noSubscription")}),(0,a.jsx)(c.$,{asChild:!0,className:"mt-2",children:(0,a.jsx)(B(),{href:"/premium",children:et("dashboardSettings.goPremiumButton")})})]})})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsx)(o.ZB,{children:et("dashboardSettings.personalInfo")}),(0,a.jsx)(o.BT,{children:et("dashboardSettings.personalInfoDesc")})]}),(0,a.jsx)(m.lV,{...ev,children:(0,a.jsxs)("form",{onSubmit:ev.handleSubmit(e=>{V&&($(V.id,e),es({title:et("dashboardSettings.profileUpdatedToast"),description:et("dashboardSettings.profileUpdatedToastDesc")}))}),children:[(0,a.jsxs)(o.Wu,{className:"space-y-4",children:[(0,a.jsx)(m.zB,{control:ev.control,name:"name",render:e=>{let{field:s}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:et("dashboardSettings.name")}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(u.p,{...s})}),q&&(0,a.jsxs)("div",{className:"text-sm text-muted-foreground pt-2",children:["Preview: ",(0,a.jsx)("span",{className:(0,N.cn)("font-bold",eg),children:s.value||"Your Name"})]}),(0,a.jsx)(m.C5,{})]})}}),(0,a.jsx)(m.zB,{control:ev.control,name:"email",render:e=>{let{field:s}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:et("dashboardSettings.email")}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(u.p,{type:"email",...s})}),(0,a.jsx)(m.C5,{})]})}})]}),(0,a.jsx)(o.wL,{className:"border-t px-6 py-4",children:(0,a.jsx)(c.$,{type:"submit",children:et("dashboardSettings.saveChanges")})})]})})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsx)(o.ZB,{children:et("dashboardSettings.changePassword")}),(0,a.jsx)(o.BT,{children:et("dashboardSettings.changePasswordDesc")})]}),(0,a.jsx)(m.lV,{...ew,children:(0,a.jsxs)("form",{onSubmit:ew.handleSubmit(e=>{if(V){if(V.password!==e.currentPassword)return void ew.setError("currentPassword",{message:"Incorrect current password."});W(V.id,e.newPassword),es({title:et("dashboardSettings.passwordChangedToast"),description:et("dashboardSettings.passwordChangedToastDesc")}),ew.reset()}}),children:[(0,a.jsxs)(o.Wu,{className:"space-y-4",children:[(0,a.jsx)(m.zB,{control:ew.control,name:"currentPassword",render:e=>{let{field:s}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:et("dashboardSettings.currentPassword")}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(u.p,{type:"password",...s})}),(0,a.jsx)(m.C5,{})]})}}),(0,a.jsx)(m.zB,{control:ew.control,name:"newPassword",render:e=>{let{field:s}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:et("dashboardSettings.newPassword")}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(u.p,{type:"password",...s})}),(0,a.jsx)(m.C5,{})]})}}),(0,a.jsx)(m.zB,{control:ew.control,name:"confirmPassword",render:e=>{let{field:s}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:et("dashboardSettings.confirmNewPassword")}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(u.p,{type:"password",...s})}),(0,a.jsx)(m.C5,{})]})}})]}),(0,a.jsx)(o.wL,{className:"border-t px-6 py-4",children:(0,a.jsx)(c.$,{type:"submit",children:et("dashboardSettings.updatePassword")})})]})})]})]})}},55365:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>i,TN:()=>c,XL:()=>o});var a=t(95155),r=t(12115),l=t(74466),d=t(59434);let n=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=r.forwardRef((e,s)=>{let{className:t,variant:r,...l}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:(0,d.cn)(n({variant:r}),t),...l})});i.displayName="Alert";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h5",{ref:s,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",t),...r})});o.displayName="AlertTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",t),...r})});c.displayName="AlertDescription"},62523:(e,s,t)=>{"use strict";t.d(s,{p:()=>d});var a=t(95155),r=t(12115),l=t(59434);let d=r.forwardRef((e,s)=>{let{className:t,type:r,...d}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...d})});d.displayName="Input"},65732:(e,s,t)=>{Promise.resolve().then(t.bind(t,55149))},66695:(e,s,t)=>{"use strict";t.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>d,aR:()=>n,wL:()=>m});var a=t(95155),r=t(12115),l=t(59434);let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});d.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});i.displayName="CardTitle";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...r})});c.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},68856:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var a=t(95155),r=t(59434);function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",s),...t})}},85057:(e,s,t)=>{"use strict";t.d(s,{J:()=>o});var a=t(95155),r=t(12115),l=t(40968),d=t(74466),n=t(59434);let i=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.b,{ref:s,className:(0,n.cn)(i(),t),...r})});o.displayName=l.b.displayName},85127:(e,s,t)=>{"use strict";t.d(s,{A0:()=>n,BF:()=>i,Hj:()=>o,XI:()=>d,nA:()=>m,nd:()=>c});var a=t(95155),r=t(12115),l=t(59434);let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",t),...r})})});d.displayName="Table";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",t),...r})});n.displayName="TableHeader";let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",t),...r})});i.displayName="TableBody",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});o.displayName="TableRow";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r})});c.displayName="TableHead";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("td",{ref:s,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r})});m.displayName="TableCell",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption"},91394:(e,s,t)=>{"use strict";t.d(s,{BK:()=>i,eu:()=>n,q5:()=>o});var a=t(95155),r=t(12115),l=t(85977),d=t(59434);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.bL,{ref:s,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});n.displayName=l.bL.displayName;let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l._V,{ref:s,className:(0,d.cn)("aspect-square h-full w-full",t),...r})});i.displayName=l._V.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.H4,{ref:s,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});o.displayName=l.H4.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[8918,5856,8722,4300,6766,6874,106,3013,6281,6967,4706,8441,1684,7358],()=>s(65732)),_N_E=e.O()}]);